# í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¶ˆëŸ¬ì˜¤ê¸°
import tensorflow as tf
import numpy as np
import openai
import time
import google.generativeai as genai
from tensorflow.keras.preprocessing.text import Tokenizer
from tensorflow.keras.preprocessing.sequence import pad_sequences
from sklearn.metrics import accuracy_score, precision_score, recall_score, f1_score
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
import random
# âœ… 1ï¸âƒ£ Google AI API ì„¤ì • (API Key í•„ìš”)
genai.configure(api_key="AIzaSyAqiutR9Uc1Q4DUtRQdiAu58U6apM8jmek")  # ë°œê¸‰ë°›ì€ API í‚¤ ì…ë ¥

def summarize_news(text):
    """Google Gemini AIë¥¼ ì‚¬ìš©í•˜ì—¬ ë‰´ìŠ¤ ë‚´ìš©ì„ ìš”ì•½í•˜ëŠ” í•¨ìˆ˜"""
    model = genai.GenerativeModel("gemini-pro")  # Gemini ëª¨ë¸ ì„ íƒ
    response = model.generate_content(f"ë‹¤ìŒ ë‰´ìŠ¤ë¥¼ ìš”ì•½í•´ì¤˜:\n\n{text}")
    return response.text  # ìš”ì•½ëœ ë‰´ìŠ¤ ë°˜í™˜
# âœ… 2ï¸âƒ£ í•™ìŠµëœ ëª¨ë¸ ë¶ˆëŸ¬ì˜¤ê¸° (.h5 íŒŒì¼)
model_path = "C:/FakeNewsProject/FakeNews_py/ModelFolder/datatext_binary_model.h5"  # ëª¨ë¸ íŒŒì¼ ê²½ë¡œ
model = tf.keras.models.load_model(model_path)
# âœ… 3ï¸âƒ£ ì˜ˆì¸¡í•  ë‰´ìŠ¤ í…ìŠ¤íŠ¸ ì…ë ¥
news_texts = [
    """
    ë‰´ì§„ìŠ¤ ë©¤ë²„ë“¤ì˜ ë¶€ëª¨ë“¤ì€ 12ì¼ "í•˜ë‹ˆëŠ” ì ë²•í•œ ì ˆì°¨ë¥¼ í†µí•´ 11ì¼ ìƒˆë¡œìš´ ë¹„ìë¥¼ ë°œê¸‰ë°›ì•˜ë‹¤"ê³  ë°í˜”ë‹¤.
    í˜¸ì£¼ ë² íŠ¸ë‚¨ ì´ì¤‘êµ­ì ìì¸ í•˜ë‹ˆëŠ” ì˜ˆìˆ í¥í–‰(E-6) ë¹„ìë¡œ í™œë™í•´ì™”ë‹¤. ê·¸ëŸ¬ë‚˜ ì´ë‹¬ ì´ˆ ë¹„ìê°€ ë§Œë£Œë¨ì— ë”°ë¼ ì²´ë¥˜ ìê²©ì„ ë‘ê³  ì—¬ëŸ¬ê°€ì§€ ì„¤ì´ ì œê¸°ëë‹¤.
    ê·¸ëŸ¬ë˜ ì¤‘ ì–´ë„ì–´ê°€ í•˜ë‹ˆì—ê²Œ ë¹„ì ì—°ì¥ ì„œë¥˜ë¥¼ ì¤€ë¹„í•´ì¤¬ìœ¼ë‚˜ í•˜ë‹ˆê°€ ì‚¬ì¸ì„ ê±°ì ˆí–ˆë‹¤ëŠ” ë³´ë„ê°€ ë‚˜ì™”ë‹¤. ì´ì— ë©¤ë²„ë“¤ì˜ ë¶€ëª¨ë“¤ì´ ì§ì ‘ ì…ì¥ì„ ë°íŒ ê²ƒ.
    ë¶€ëª¨ë“¤ì€ "ì–´ë„ì–´ëŠ” ì–´ë„ì–´ë¥¼ ì†Œì†ì‚¬ë¡œ ê¸°ì¬í•œ ì—°ì¥ ë™ì˜ì„œì— ì„œëª…ì„ ìš”êµ¬í•˜ë©° ë™ì˜í•˜ì§€ ì•Šìœ¼ë©´ ë¶ˆë²• ì²´ë¥˜ê°€ ë  ìˆ˜ ìˆë‹¤ëŠ” ë©”ì¼ì„ ë³´ë‚´ëŠ” ë“± êµ­ë‚´ ê±°ì£¼ ì™¸êµ­ì¸ìœ¼ë¡œëŠ” ë¯¼ê°í•  ìˆ˜ ë°–ì— ì—†ëŠ” 'ë¹„ì'ë¬¸ì œë¥¼ ë¹Œë¯¸ë¡œ ë¶€ëª¨ì™€ ë‹¹ì‚¬ìì—ê²Œ ì••ë°•ì„ ê°€í–ˆë‹¤.
    ì‹¬ì§€ì–´, ë™ì˜ ì—†ì´ ê°œì¸ì •ë³´ì™€ ë³¸ì¸ì„œëª…ì´ í•„ìš”í•œ ì„œë¥˜ë¥¼ ê´€ë ¨ ê¸°ê´€ì— ë©‹ëŒ€ë¡œ ì œì¶œí•˜ê³  ì¶”í›„ í†µë³´í•˜ëŠ” ë“± ìƒì‹ì ìœ¼ë¡œ ì´í•´ë˜ì§€ ì•Šì€ í–‰ë™ì„ ë³´ì˜€ë‹¤. 'ë‹¹ì‚¬ì'ê°€ ì•„ë‹ˆë©´ í˜„ì¬ ë©¤ë²„ë“¤ì˜ ê°œì¸ì •ë³´ë¥¼ ì•Œê³  ìˆëŠ” 'ì–´ë„ì–´'ë§Œì´ ì¤„ ìˆ˜ ìˆëŠ” ì •ë³´ê°€ ì–¸ë¡ ì„ í†µí•´ ë¬´ë¶„ë³„í•˜ê²Œ í™•ì‚°ë˜ì—ˆë‹¤ëŠ” ì ì— ì‹¬ê°í•œ ìœ ê°ì„ í‘œí•œë‹¤"ê³  ì£¼ì¥í–ˆë‹¤.
    ì´ì–´ "ì´ì „ì—ë„ ë©¤ë²„ ê°œê°œì¸ì˜ ê°œì¸ì •ë³´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¶œì…êµ­ ë‚´ìš©ì„ ì•Œì•„ë‚´ëŠ” ë“± ìƒí™©ì´ ì ì  ë” ì‹¬ê°í•´ì§€ê³  ìˆì–´, ë©¤ë²„ë“¤ì„ ë³´í˜¸í•˜ê¸° ìœ„í•´ ê´€ë ¨ ë²•ì  ëŒ€ì‘ì„ ê³ ë ¤í•˜ê³  ìˆë‹¤"ê³  ë§ë¶™ì˜€ë‹¤.
    """,
    """
    ê°•ì›ë„ ì†ì´ˆê²½ì°°ì„œëŠ” 3ì›” 31ì¼ ì˜¤ì „ 6ì‹œ 30ë¶„ê²½ì— ê²½ê¸°ë„ ë¶€ì²œì— ê±°ì£¼í•˜ëŠ” ì„¤ì•…ì‚° ê´€ê´‘ ê°€ì´ë“œ ê¹€ ëª¨(45) ì”¨ì˜ ì„¤ëª…ì„ ë“£ë‹¤ê°€ ì¤‘ìš”ì§€ë°©ë¬¸í™”ì¬ 37í˜¸ 'í”ë“¤ë°”ìœ„' ë¥¼ ë°€ì–´ ë–¨ì–´ëœ¨ë¦° ë¯¸êµ­ì¸ ê´€ê´‘ê° ì œëŸ´ë“œ(42) ë“± ì¼í–‰ 11ëª…ì— ëŒ€í•´ ë¬¸í™”ì¬ í›¼ì† í˜ì˜ì™€ ë¬¸í™”ì¬ë³´í˜¸ë²• ìœ„ë°˜ í˜ì˜ë¡œ ì…ê±´í–ˆë‹¤.
    ì´ë“¤ ì¼í–‰ì€ ì´ë‚  ìƒˆë²½ 5ì‹œ ì¼ì¶œ ê´€ê´‘ì„ ë§ˆì¹œ ë’¤ í”ë“¤ë°”ìœ„ ê´€ê´‘ì„ í•˜ë©´ì„œ "ì´ ë°”ìœ„ëŠ” ì•„ë¬´ë¦¬ í”ë“¤ì–´ë„ í”ë“¤ë¦¬ê¸°ë§Œ í•  ë¿ ë–¨ì–´ì§€ì§€ëŠ” ì•ŠëŠ”ë‹¤"ëŠ” ê°€ì´ë“œ ê¹€ ì”¨ì˜ ë§ì— ë”°ë¼ í‰ê·  ì²´ì¤‘ 89Kgì˜ ê±°êµ¬ì¸ 11ëª…ì´ í˜ê» ë°€ì–´ë‚¸ ëì— ë°”ìœ„ë¥¼ ì¶”ë½ì‹œì¼°ë‹¤.
    ê·¸ëŸ¬ë‚˜ ì´ë“¤ ì¼í–‰ì€ ê²½ì°°ì—ì„œ "ê°€ì´ë“œì˜ ë§ì´ ë§ë„ ì•ˆ ë˜ëŠ” ì†Œë¦¬ë¼ ìƒê°í•´ ë°€ì–´ë³¸ ê²ƒì¼ ë¿ ë‹¤ë¥¸ ì˜ë„ëŠ” ì—†ì—ˆë‹¤"ë©° ë²”í–‰ì˜ ê³ ì˜ì„±ì„ ì™„ê°•íˆ ë¶€ì¸í–ˆë‹¤.
    ì£¼í•œ ë¯¸êµ° ê·¼ë¬´ ê²½í—˜ì´ ìˆëŠ” ë¯¸êµ­ ì• ë¦¬ì¡°ë‚˜ì£¼ ì¶œì‹ ì˜ ë„ë„ë“œ ì”¨ëŠ” ì—­ë„ ì½”ì¹˜ ë“±ì„ í•˜ëŠ” ì• ë¦¬ì¡°ë‚˜ ì£¼ë¦½ì²´ìœ¡ì—°ë§¹ íšŒì› 10ëª…ê³¼ í•¨ê»˜ ì§€ë‚œ ì£¼ ì¼ì£¼ì¼ ê´€ê´‘ ì˜ˆì •ìœ¼ë¡œ ì…êµ­í•œ ê²ƒìœ¼ë¡œ ì•Œë ¤ì¡Œë‹¤.
    ì´ì— ë”°ë¼ ì†Œì‹ì„ ì ‘í•œ ë¬¸í™”ê´€ê´‘ë¶€ì™€ ê°•ì›ë„ì²­ì€ ëŒ€ì±… ë§ˆë ¨ì— ë¶€ì‹¬í•˜ê³  ìˆë‹¤. ê·¼ì²˜ì—ì„œ ê´€ê´‘ ì¤‘ì´ë˜ ì¼ë¶€ ëª©ê²©ìë“¤ì˜ ì¦ì–¸ì— ë”°ë¥´ë©´ 'í”ë“¤ë°”ìœ„'ëŠ” ì¶”ë½ì‹œ "ë»¥!!!" í•˜ëŠ” ì—„ì²­ë‚œ êµ‰ìŒì„ ëƒˆë˜ ê²ƒìœ¼ë¡œ ì•Œë ¤ì¡Œë‹¤.
    """,
    """
    ì ì‹¤Â·ì‚¼ì„±Â·ëŒ€ì¹˜Â·ì²­ë‹´ë™(ì ì‚¼ëŒ€ì²­) ì•„íŒŒíŠ¸ ìƒë‹¹ìˆ˜ì— 'ê°­íˆ¬ì(ì „ì„¸ ë¼ê³  ë§¤ë§¤)'ê°€ ê°€ëŠ¥í•´ì§„ ë§Œí¼ ë¶€ë™ì‚° ì‹œì¥ ì¹¨ì²´ ìƒí™©ì—ì„œë„ ì´ê³³ì—” ìˆ˜ìš”ê°€ ëª°ë¦´ ê°€ëŠ¥ì„±ì´ ì œê¸°ëœë‹¤. ë‹¤ë§Œ í† ì§€ê±°ë˜í—ˆê°€êµ¬ì—­(í† í—ˆì œ) í•´ì œë¡œ ì¸í•´ ê¸°ëŒ€ê°ì´ í•œí’€ êº¾ì—¬ í° ê°€ê²© ìƒìŠ¹ì€ ì—†ì„ ê²ƒì´ë€ ë°˜ë¡ ë„ ìˆë‹¤.
    12ì¼ ì„œìš¸ì‹œëŠ” ì œ2ì°¨ ë„ì‹œê³„íšìœ„ì›íšŒë¥¼ ì—´ê³  í† í—ˆì œ ì§€ì •ì„ í•´ì œí•˜ëŠ” í† í—ˆì œ ì¡°ì •(ì•ˆ)ì„ ìŠ¹ì¸í–ˆë‹¤.
    êµ¬ì²´ì ìœ¼ë¡œ êµ­ì œêµë¥˜ë³µí•©ì§€êµ¬ ì¸ê·¼ ì ì‚¼ëŒ€ì²­ 4ê°œ ë™ ë‚´ 305ê°œ ì•„íŒŒíŠ¸ ì¤‘ 291ê°œê°€ í•´ì œëë‹¤. ì•ˆì „ì§„ë‹¨ì„ í†µê³¼í•œ ì¬ê±´ì¶• ì•„íŒŒíŠ¸ 14ê³³ë§Œ íˆ¬ê¸° ê³¼ì—´ ê°€ëŠ¥ì„±ì´ ìˆë‹¤ëŠ” ì´ìœ ë¡œ í† í—ˆì œ ì§€ì •ì´ ìœ ì§€ëë‹¤.
    í† í—ˆì œ í•´ì œê°€ ë¶ˆëŸ¬ì˜¤ëŠ” ê°€ì¥ í° ë³€í™”ëŠ” í•´ë‹¹ ì§€ì—­ì—ì„œ ê°­íˆ¬ìê°€ ê°€ëŠ¥í•´ì§„ë‹¤ëŠ” ì ì´ë‹¤. í† í—ˆì œëŠ” ì¼ì • ê·œëª¨ ì´ìƒ ì£¼íƒÂ·ìƒê°€Â·í† ì§€ ë“±ì„ ê±°ë˜í•  ë•Œ ê´€í•  êµ¬ì²­ì¥ìœ¼ë¡œí„° ì‚¬ì „í—ˆê°€ë¥¼ ë°›ê²Œ í•˜ëŠ” ì œë„ë‹¤. ì£¼íƒì€ 2ë…„ê°„ ì‹¤ê±°ì£¼ ëª©ì  ë§¤ë§¤ë§Œ í—ˆìš©í•´ ê°­íˆ¬ìê°€ ë¶ˆê°€ëŠ¥í–ˆë‹¤.
    ì „ë¬¸ê°€ë“¤ì€ íŠ¹íˆ ì ì‹¤ì˜ 'ì—˜ë¦¬íŠ¸(ì—˜ìŠ¤Â·ë¦¬ì„¼ì¸ Â·íŠ¸ë¦¬ì§€ì›€)' ë“± ì•„ì§ ì¬ê±´ì¶•ê³¼ ë¬´ê´€í•œ ì•„íŒŒíŠ¸ë“¤ì— íˆ¬ì ìˆ˜ìš”ê°€ ëŠ˜ì–´ë‚  ìˆ˜ ìˆë‹¤ê³  ë¶„ì„í–ˆë‹¤. ì´ê³³ì˜ ê²½ìš° ì˜¤ì„¸í›ˆ ì„œìš¸ì‹œì¥ì´ ì§€ë‚œë‹¬ 14ì¼ ì—´ë¦° ì‹œë¯¼ ëŒ€í† ë¡ íšŒì—ì„œ "íŠ¹ë‹¨ì˜ ì¡°ì¹˜ë¡œ í–‰í•´ì¡Œë˜ í† ì§€ê±°ë˜í—ˆê°€êµ¬ì—­ì„ í•´ì œí•˜ëŠ” ë°©ì•ˆì„ ìƒë‹¹íˆ ì ê·¹ì ìœ¼ë¡œ ê²€í† í•˜ê³  ìˆê³  ì¡°ë§Œê°„ ë°œí‘œí•˜ê² ë‹¤"ê³  ë°íŒ í›„ ë§¤ìˆ˜ ë¬¸ì˜ê°€ í™• ëŠ˜ì–´ë‚¬ë‹¤.
    í•œêµ­ë¶€ë™ì‚°ì›ì´ ë°œí‘œí•œ ì£¼ê°„ ì•„íŒŒíŠ¸ ê°€ê²© ë™í–¥ì— ë”°ë¥´ë©´ 2ì›” ì²«ì§¸ ì£¼ ê¸°ì¤€ ì„œìš¸ ì§‘ê°’ì€ 6ì£¼ ë§Œì— ë³´í•©ì—ì„œ 0.02% ìƒìŠ¹ ì „í™˜í–ˆëŠ”ë° ì´ ì¤‘ì—ì„œë„ ì†¡íŒŒ(0.13%)ì˜ ìƒìŠ¹í­ì´ ë‘ë“œëŸ¬ì¡Œë‹¤. ì‹¤ì œë¡œ ì„œìš¸ ë¶€ë™ì‚° ì‹œì¥ì´ ì¡°ìš©í•œ ìƒí™©ì—ì„œë„ 'íŠ¸ë¦¬ì§€ì›€' ì „ìš© 59ã¡(16ì¸µ)ëŠ” ì§€ë‚œë‹¬ 15ì¼ì— 22ì–µ5500ë§Œì›ì— ê±°ë˜ë˜ë©° ì‹ ê³ ê°€ë¥¼ ê²½ì‹ í•˜ê¸°ë„ í–ˆë‹¤.
    í•¨ì˜ì§„ ìš°ë¦¬ì€í–‰ ë¶€ë™ì‚°ë¦¬ì„œì¹˜ë©ì¥ì€ "í† í—ˆì œê°€ í’€ë¦° ì§€ì—­ì˜ ì•„íŒŒíŠ¸ëŠ” ì§€ê¸ˆë³´ë‹¤ í˜¸ê°€ê°€ ë” ë›°ê³  ë§¤ë„ìê°€ ìš°ìœ„ì— ì„œê²Œ ë  ê²ƒ"ì´ë¼ë©° "ì£¼ì¶¤í–ˆë˜ ê±°ë˜ëŸ‰ë„ ì‚´ì•„ë‚  ê°€ëŠ¥ì„±ì´ ìˆë‹¤"ê³  ì„¤ëª…í–ˆë‹¤.
    í† í—ˆì œ í•´ì œ ì§€ì—­ì˜ ì‹ ì¶•ì•„íŒŒíŠ¸ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ê°€ê²©ê³¼ ê±°ë˜ëŸ‰ ëª¨ë‘ ëŠ˜ì–´ë‚  ìˆ˜ ìˆë‹¤ëŠ” ë¶„ì„ë„ ìˆë‹¤. ë˜˜ë˜˜í•œ í•œ ì±„ì™€ ìƒëŒ€ì ìœ¼ë¡œ ì‹ ì¶•ì´ë¼ëŠ” íˆ¬ì ì„ í˜¸ ì¡°ê±´ì„ ë™ì‹œì— ë§Œì¡±ì‹œí‚¤ëŠ” ê³³ë“¤ì´ê¸° ë•Œë¬¸ì´ë‹¤. êµ¬ì²´ì ìœ¼ë¡œ ê°•ë‚¨êµ¬ ëŒ€ì¹˜ë™ì˜ 'ë˜ë¯¸ì•ˆëŒ€ì¹˜íŒ°ë¦¬ìŠ¤'ì™€ ì²­ë‹´ë™ì˜ 'ì²­ë‹´ìì´' ë“±ì´ ê¼½íŒë‹¤.
    ë°˜ë©´ í† í—ˆì œ í•´ì œê°€ ì´ë¤„ì§€ë©´ ê¸°ì¡´ì— ìŒ“ì˜€ë˜ ê¸°ëŒ€ê°ì´ í•´ì†Œë¼ ì¶”ê°€ì ì¸ ì•„íŒŒíŠ¸ ê°€ê²© ìƒìŠ¹ì€ ì—†ì„ ê²ƒì´ë€ ëª©ì†Œë¦¬ë„ ìˆë‹¤. ê¹€ì¸ë§Œ ê¹€ì¸ë§Œë¶€ë™ì‚°ê²½ì œì—°êµ¬ì†Œì¥ì€ "ì˜¤ ì‹œì¥ì˜ í† í—ˆì œ í•´ì œ ë°œì–¸ ì´í›„ ì ì‹¤ ì•„íŒŒíŠ¸ í˜¸ê°€ê°€ 30ì–µì›ê¹Œì§€ ì˜¤ë¥´ê¸°ë„ í–ˆë‹¤"ë©´ì„œ "ê·¸ ê°€ê²©ì´ë©´ ì„œì´ˆêµ¬ ë“± ë‹¤ë¥¸ ì§€ì—­ íˆ¬ìë„ ê°€ëŠ¥í•´ ë†’ì•„ì§„ í˜¸ê°€ë§Œí¼ ì‹¤ê±°ë˜ê°€ ì´ë¤„ì§€ì§€ëŠ” ì•Šì„ ìˆ˜ ìˆë‹¤"ê³  ë‚´ë‹¤ë´¤ë‹¤.
    ê·¸ëŸ¬ë©´ì„œ ê·¸ëŠ” "GTX(ìˆ˜ë„ê¶Œ ê´‘ì—­ê¸‰í–‰ì² ë„) í˜¸ì¬ ì§€ì—­ ì•„íŒŒíŠ¸ë„ ê°œí†µ ì´ì „ì— ê°€ê²©ì´ ì˜¤ë¥´ê³  ìˆ˜ìš”ê°€ ëª°ë ¸ë‹¤ê°€ ì‹¤ì œ ê°œí†µ ì´í›„ì—ëŠ” ì§‘ê°’ ìƒìŠ¹ì´ ë‘ë“œëŸ¬ì§€ì§€ ì•Šì•˜ë‹¤"ê³  ë¶€ì—°í–ˆë‹¤.
    í† í—ˆì œ í•´ì œê°€ ë˜ì§€ ì•Šì€ ì§€ì—­ë„ ë‹¹ì¥ ëˆˆì— ë„ëŠ” ë³€í™”ëŠ” ì—†ê² ì§€ë§Œ í–¥í›„ í•´ì œ ê¸°ëŒ€ê°ì— ê¾¸ì¤€íˆ ìˆ˜ìš”ê°€ ìœ ì…ë  ê²ƒì´ë€ ë¶„ì„ë„ ìˆë‹¤. í•œ ë¶€ë™ì‚°ì—…ê³„ ê´€ê³„ìëŠ” "í† í—ˆì œê°€ ìœ ì§€ëœ ì§€ì—­ ì•„íŒŒíŠ¸ëŠ” ë‹¹ì¥ ê°­íˆ¬ìê°€ ê°€ëŠ¥í•˜ì§€ ì•Šìœ¼ë‹ˆ ì´ì „ê³¼ í¬ê²Œ ë‹¬ë¼ì§€ëŠ” ì ì€ ì—†ì„ ê²ƒ"ì´ë¼ë©´ì„œë„ "ì´ë¯¸ ì¸ê¸°ê°€ ìˆëŠ” ë™ë„¤ì¸ ë§Œí¼ ê¾¸ì¤€í•œ ìˆ˜ìš”ëŠ” ìˆì„ ê²ƒ"ì´ë¼ê³  ë§í–ˆë‹¤.
    """,
    """
    ì§€ë‚œ 12ì¼ ì œì£¼ í•´ìƒì—ì„œ ë°œìƒí•œ ì–´ì„  ì „ë³µì‚¬ê³ ë¡œ 5ëª…ì´ ì‹¤ì¢…ëœ ê°€ìš´ë° í•´ê²½ì´ ì‹¤ì¢…ìë¥¼ ì°¾ê¸° ìœ„í•œ ìˆ˜ìƒ‰ ì‘ì—…ì— ì§‘ì¤‘í•˜ê³  ìˆë‹¤.
    13ì¼ ì„œê·€í¬í•´ì–‘ê²½ì°°ì„œì— ë”°ë¥´ë©´ ì „ë‚  ì˜¤í›„ 7ì‹œ56ë¶„ê»˜ ì„œê·€í¬ì‹œ í‘œì„ ë©´ ë‚¨ì„œìª½ 12km í•´ìƒì—ì„œ ì„œê·€í¬ ì„ ì  ê·¼í•´ì—°ìŠ¹ ì–´ì„  2066ì¬ì„±í˜¸(32t, ìŠ¹ì„ ì› 10ëª…)ê°€ ì „ë³µë˜ëŠ” ì‚¬ê³ ê°€ ë‚¬ë‹¤.
    ì‚¬ê³  í˜„ì¥ì— ì¶œë™í•œ í•´ê²½ì— ì˜í•´ í•œêµ­ì¸ ì„ ì¥ ë“± 5ëª…ì´ êµ¬ì¡°ëìœ¼ë‚˜ ë‚˜ë¨¸ì§€ 5ëª…ì€ ì‹¤ì¢…ëœ ìƒíƒœë‹¤. ì´ì— í•´ê²½ì€ ì‹¤ì¢…ìë¥¼ ì°¾ê¸° ìœ„í•œ ì£¼Â·ì•¼ê°„ ìˆ˜ìƒ‰ì— ì´ë ¥ì„ ë‹¤í•˜ê³  ìˆë‹¤.
    ë‹¤ë§Œ ì „ë‚ ë¶€í„° ì´ë‚  ì˜¤ì „ 9ì‹œê¹Œì§€ ì§„í–‰ëœ ìˆ˜ìƒ‰ì—ì„œëŠ” íŠ¹ì´ì ì´ ë°œê²¬ë˜ì§€ ì•Šì•˜ë‹¤. ì´ë‚  ì˜¤ì „ 10ì‹œë¶€í„°ëŠ” ì‚¬ê³  í˜„ì¥ì—ì„œ í•´ìˆ˜ë©´ ìœ„ë¡œ ë³´ì´ëŠ” ì„ ì²´ ìœ„ì—ì„œ ë¦¬í”„íŠ¸ë°±ì„ ì„¤ì¹˜í•˜ëŠ” ì‘ì—…ì´ ì´ë¤„ì§€ê³  ìˆë‹¤.
    íŠ¹íˆ í•´ê²½ì€ ë™ì› ê°€ëŠ¥í•œ ì ìˆ˜ ì¸ë ¥ì„ ì „ì› íˆ¬ì…í•´ ì „ë³µëœ ì„ ì²´ ë‚´ë¶€ì— ëŒ€í•œ ì§‘ì¤‘ ìˆ˜ìƒ‰ë„ ë²Œì´ê³  ìˆë‹¤.
    í•˜ì§€ë§Œ ì‚¬ê³  í•´ì—­ ì¸ê·¼ì€ í’ë‘ì£¼ì˜ë³´ê°€ ë‚´ë ¤ì§„ ìƒí™©ìœ¼ë¡œ, ìˆœê°„í’ì† ì´ˆì† 16~18mì˜ íƒœí’ê¸‰ ê°•í’ê³¼ 3.5mì— ë‹¬í•˜ëŠ” íŒŒë„ê°€ ì¼ê³  ìˆì–´ ìˆ˜ìƒ‰ì´ ì‰½ì§€ ì•Šì€ ìƒí™©ìœ¼ë¡œ ì „í•´ì¡Œë‹¤.
    ë¬´ì—‡ë³´ë‹¤ ì•…ê¸°ìƒ ì† ìˆ˜ìƒ‰ì— ë‚˜ì„  í•´ê²½ êµ¬ì¡°ëŒ€ì› 2ëª…ì´ ë‹¤ì³ ì¹˜ë£Œë¥¼ ë°›ê³  ìˆëŠ” ê²ƒìœ¼ë¡œ ì•Œë ¤ì¡Œë‹¤.
    """,
    """
    ë¯¸êµ­ í•­ê³µìš°ì£¼êµ­(NASA)ì€ ìµœê·¼ ë‹¬ ë’·ë©´ì—ì„œ ì™¸ê³„ ìƒëª…ì²´ì˜ í”ì ì„ ë°œê²¬í–ˆë‹¤ê³  ê³µì‹ ë°œí‘œí–ˆë‹¤. NASAì˜ ë£¨ë‚˜ ìµìŠ¤í”Œë¡œëŸ¬ íƒì‚¬ì„ ì€ ì§€ë‚œ 1ì›” ë§, ë‹¬ ë’·ë©´ì„ íƒì‚¬í•˜ë˜ ì¤‘ ê¸°ì´í•œ êµ¬ì¡°ë¬¼ê³¼ ìƒì²´ í”ì ì„ ê°ì§€í–ˆë‹¤ê³  ë³´ê³ í–ˆë‹¤.
    NASA ì—°êµ¬ì› ì œì„ìŠ¤ í•¸ë”ìŠ¨ ë°•ì‚¬ëŠ” ê¸°ìíšŒê²¬ì—ì„œ "ì´ êµ¬ì¡°ë¬¼ì€ ìì—°ì ìœ¼ë¡œ í˜•ì„±ë  ê°€ëŠ¥ì„±ì´ ë‚®ë‹¤. í˜„ì¬ë¡œì„œëŠ” ê³ ë“± ì§€ì  ìƒëª…ì²´ê°€ ë§Œë“  ê²ƒì¼ ìˆ˜ë„ ìˆë‹¤ëŠ” ê°€ëŠ¥ì„±ì„ ë°°ì œí•  ìˆ˜ ì—†ë‹¤"ê³  ë°í˜”ë‹¤.
    ì´ì— ë”°ë¼ ë¯¸êµ­ ì •ë¶€ëŠ” ê¸´ê¸‰ êµ­ê°€ì•ˆë³´íšŒì˜ë¥¼ ê°œìµœí–ˆìœ¼ë©°, í–¥í›„ ëª‡ ì£¼ ë‚´ì— ì „ ì„¸ê³„ ê³¼í•™ìë“¤ê³¼ í˜‘ë ¥í•´ ì¶”ê°€ íƒì‚¬ë¥¼ ì§„í–‰í•  ì˜ˆì •ì´ë¼ê³  ë°í˜”ë‹¤.
    í•œí¸, ì „ ì„¸ê³„ ë„¤í‹°ì¦Œë“¤ì€ ì´ë²ˆ ë°œí‘œë¥¼ ë‘ê³  "ì™¸ê³„ ìƒëª…ì²´ì˜ ì¡´ì¬ê°€ ë“œë””ì–´ ë°í˜€ì§€ëŠ” ìˆœê°„ì´ë‹¤"ë¼ë©° ëœ¨ê±°ìš´ ë°˜ì‘ì„ ë³´ì´ê³  ìˆë‹¤.
    """,
    """
    ì—°ì´ˆ ì‹í’ˆì—…ì²´ë“¤ì˜ ê°€ê²© ì¸ìƒì´ ì´ì–´ì§€ë©´ì„œ ê°€ê³µì‹í’ˆ ë¬¼ê°€ê°€ 1ë…„ ë§Œì— ê°€ì¥ í° í­ìœ¼ë¡œ ì˜¤ë¥¸ ê²ƒìœ¼ë¡œ ë‚˜íƒ€ë‚¬ë‹¤. ì›ì¬ë£Œ ê°€ê²©ì´ ì˜¤ë¥´ëŠ” ë°ë‹¤ ê³ í™˜ìœ¨ ìƒí™©ê¹Œì§€ ê²¹ì¹˜ë©´ì„œ ë¬¼ê°€ ìƒìŠ¹ ì••ë ¥ì€ ë” ì»¤ì§€ê³  ìˆë‹¤.
    13ì¼ í†µê³„ì²­ êµ­ê°€í†µê³„í¬í„¸(KOSIS)ì™€ ì†Œë¹„ìë¬¼ê°€ë™í–¥ì— ë”°ë¥´ë©´ ì§€ë‚œ 1ì›” ê°€ê³µì‹í’ˆ ë¬¼ê°€ì§€ìˆ˜ëŠ” 122.03ìœ¼ë¡œ ì „ë…„ë™ê¸°ëŒ€ë¹„ 2.7% ì˜¬ëë‹¤. ì´ëŠ” ì§€ë‚œí•´ 1ì›”(3.2%) ì´í›„ ê°€ì¥ ë†’ì€ ìƒìŠ¹ë¥ ë¡œ, ì „ì²´ ì†Œë¹„ìë¬¼ê°€ìƒìŠ¹ë¥ (2.2%)ë¥¼ ì›ƒëŒì•˜ë‹¤. ê°€ê³µì‹í’ˆ ë¬¼ê°€ìƒìŠ¹ë¥ ì€ ì§€ë‚œí•´ í•˜ë°˜ê¸°ê¹Œì§€ëŠ” 2.0% ì´í•˜ë¡œ ë¹„êµì  ì•ˆì •ì„¸ì˜€ìœ¼ë‚˜ ìµœê·¼ í¬ê²Œ ì˜¬ëë‹¤.
    ì§€ë‚œë‹¬ ê°€ê³µì‹í’ˆ ì¤‘ ê°€ì¥ í¬ê²Œ ì˜¤ë¥¸ í’ˆëª©ì€ ì˜¤ì§•ì–´ì±„(22.9%)ì˜€ë‹¤. ì´ì–´ ë§›ê¹€(22.1%), ê¹€ì¹˜(17.5%) ì‹œë¦¬ì–¼(14.7%), ìœ ì‚°ê· (13.0%), ì´ˆì½œë¦¿(11.2%) ìˆœì´ì—ˆë‹¤.
    ì¡°ë¯¸ë£Œë¥˜ë„ í¬ê²Œ ì˜¬ëë‹¤. ì°¸ê¸°ë¦„(8.9%), ê°„ì¥(8.8%), ì‹ìš©ìœ (7.8%) ë“±ì´ 7~8%ëŒ€ ìƒìŠ¹ë¥ ì„ ë³´ì˜€ë‹¤. ë°€ê°€ë£¨ë¥¼ ì›ë£Œë¡œí•˜ëŠ” ê°€ê³µì‹í’ˆ ê°€ê²©ë„ ì˜¬ëë‹¤. ë¹„ìŠ¤í‚·(7.0%) ì¼€ì´í¬(3.3%), ë¹µ(3.2%)ê°€ ëŒ€í‘œì ì´ë‹¤.
    ì‹í’ˆì—…ì²´ë“¤ì€ ì˜¬í•´ë“¤ì–´ ì œí’ˆ ê°€ê²©ì„ ëŒ€ëŒ€ì ìœ¼ë¡œ ì˜¬ë¦¬ê³  ìˆë‹¤. ë™ì•„ì˜¤ì¸ ì¹´ëŠ” ì§€ë‚œë‹¬ 1ì¼ í¬ì¹´ë¦¬ìŠ¤ì›¨íŠ¸ ë“± ì£¼ìš”ì œí’ˆ ê°€ê²©ì„ 100ì› ì˜¬ë ¸ë‹¤. ëŒ€ìƒë„ ì§€ë‚œë‹¬ 16ì¼ë¶€í„° ë§ˆìš”ë„¤ì¦ˆ í›„ì¶” ë“± ì†ŒìŠ¤ë¥˜ ê°€ê²©ì„ í‰ê·  19.1% ì˜¬ë ¸ë‹¤. SPC íŒŒë¦¬ë°”ê²Œëœ¨ëŠ” ì§€ë‚œ 10ì¼ë¶€í„° ë¹µ 96ì¢…ê³¼ ì¼€ì´í¬ 25ì¢… ê°€ê²©ì„ í‰ê·  5.9% ì¸ìƒí•œë‹¤ê³  ë°í˜”ë‹¤. ë¡¯ë° ì›°í‘¸ë“œë„ ì˜¤ëŠ” 17ì¼ ë¶€í„° ì´ˆì½” ë¹¼ë¹¼ë¡œ ë“± 26ì¢… ê°€ê²©ì„ í‰ê·  9.5% ì¸ìƒí•œë‹¤.
    ì‹í’ˆì—…ê³„ëŠ” ì›ì¬ë£Œê°’ê³¼ ë¶€ëŒ€ë¹„ìš©ì´ ì˜¬ë¼ ê°€ê²© ì¸ìƒì´ ë¶ˆê°€í”¼í•˜ë‹¤ëŠ” ì…ì¥ì´ë‹¤. ë§›ê¹€ì˜ ì›ì¬ë£Œì¸ ê¹€ ì›ì´ˆ ê°€ê²©ì´ ë†’ì€ ìˆ˜ì¤€ì´ê³ , ê¹€ì¹˜ì— ì“°ì´ëŠ” ë°°ì¶”ë„ ì‘í™© ë¶€ì§„ìœ¼ë¡œ ê°€ê²©ì´ ì¹˜ì†Ÿì•˜ë‹¤. ê¸°í›„ë³€í™”ë¡œ ì½”ì½”ì•„, ì»¤í”¼ ì›ë‘ ê°€ê²©ë„ í¬ê²Œ ì˜¬ëë‹¤. 1400ì›ì„ ì›ƒë„ëŠ” ì›/ë‹¬ëŸ¬ í™˜ìœ¨ë„ ë¬¼ê°€ìƒìŠ¹ ìš”ì¸ì´ë‹¤. ì‹ì¬ë£Œë¥¼ ëŒ€ë¶€ë¶„ ìˆ˜ì…ì— ì˜ì¡´í•˜ëŠ” ì‹í’ˆì—…ì²´ë¡œì„œëŠ” ì›ê°€ ì••ë°•ì´ ì»¤ì§€ëŠ” ì…ˆì´ë‹¤.
    í†µê³„ì²­ ê´€ê³„ìëŠ” â€œì›/ë‹¬ëŸ¬ í™˜ìœ¨ ìƒìŠ¹ì´ 1ì›” ê°€ê³µì‹í’ˆ ë¬¼ê°€ì—ë„ ì¼ë¶€ ì˜í–¥ì„ ë¯¸ì³¤ìœ¼ë‚˜ ì•ìœ¼ë¡œ ì‹œì°¨ë¥¼ ë‘ê³  ë” ë°˜ì˜ë  ê²ƒâ€ì´ë¼ê³  í–ˆë‹¤.
    """
]
random.shuffle(news_texts)
# âœ… 4ï¸âƒ£ ë‰´ìŠ¤ ìš”ì•½ ìˆ˜í–‰ (Google AI ì‚¬ìš©)
summarized_news_texts = [summarize_news(text) for text in news_texts]
# âœ… 5ï¸âƒ£ Tokenizerë¥¼ ì‚¬ìš©í•˜ì—¬ í…ìŠ¤íŠ¸ë¥¼ ìˆ«ìë¡œ ë³€í™˜
tokenizer = Tokenizer(num_words=5000)  # ìµœëŒ€ ë‹¨ì–´ ê°œìˆ˜ ì„¤ì •
tokenizer.fit_on_texts(summarized_news_texts)  # ìš”ì•½ëœ í…ìŠ¤íŠ¸ í•™ìŠµ

# í…ìŠ¤íŠ¸ë¥¼ ìˆ«ìë¡œ ë³€í™˜
sequences = tokenizer.texts_to_sequences(summarized_news_texts)
# âœ… 6ï¸âƒ£ ì…ë ¥ í¬ê¸°ì— ë§ê²Œ íŒ¨ë”© ì¶”ê°€ (ìµœëŒ€ ê¸¸ì´ ì¡°ì •)
max_length = 10000  # âš  ëª¨ë¸ì— ë§ê²Œ ì¡°ì •í•˜ì„¸ìš”.
processed_input = pad_sequences(sequences, maxlen=max_length, padding="post")
# âœ… 7ï¸âƒ£ ëª¨ë¸ë¡œ ì˜ˆì¸¡ ìˆ˜í–‰
prediction = model.predict(processed_input)
is_fake = (prediction > 0.5).astype(int).flatten()  # 0.5 ê¸°ì¤€ìœ¼ë¡œ íŒë³„ ëª¨ë¸ì´ ìë™ìœ¼ë¡œ ëª¨ë“  ë‰´ìŠ¤ ì˜ˆì¸¡ â†’ 0.6ë¡œ ì˜¬ë¦¼
# âœ… 8ï¸âƒ£ ì„±ëŠ¥ í‰ê°€ (ì •í™•ë„ë¥¼ ì‹¤ì œ ëª¨ë¸ ì˜ˆì¸¡ê°’ì„ ê¸°ë°˜ìœ¼ë¡œ ê³„ì‚°)
true_labels = np.array([0, 1, 0, 0, 1, 0])  # ì‹¤ì œ ì •ë‹µ (0: ì§„ì§œ ë‰´ìŠ¤, 1: ê°€ì§œ ë‰´ìŠ¤)

# ì„±ëŠ¥ í‰ê°€ ì§€í‘œ ê³„ì‚°
accuracy = accuracy_score(true_labels, is_fake)
precision = precision_score(true_labels, is_fake)
recall = recall_score(true_labels, is_fake)
f1 = f1_score(true_labels, is_fake)

# --------------------------------------------------------------------
# í™•ë¥  ë³´ì • í•¨ìˆ˜(ë„ˆë¬´ ì‘ì€ ê°’ì€ ì˜¬ë¦¬ê³ , ë„ˆë¬´ í° ê°’ì€ ë‚®ì¶¤)
def adjust_probabilities(pred, alpha = 0.2):
    return (1 - alpha) * pred + alpha * 0.5

# ëª¨ë¸ì˜ ì›ë³¸ ì˜ˆì¸¡ê°’
raw_predictions = np.array([0.33028343, 0., 0., 0., 0., 1.])

# ì¡°ì •ëœ í™•ë¥ ê°’ ì ìš©
adjusted_predictions = adjust_probabilities(raw_predictions)

print("ì¡°ì •ëœ í™•ë¥ ê°’: ", adjusted_predictions)
# --------------------------------------------------------------------


# âœ… ì„±ëŠ¥ ë¶„ì„ ê²°ê³¼ ì¶œë ¥ (ì €ì¥ X)
print(f"ğŸ¯ ëª¨ë¸ ì„±ëŠ¥ í‰ê°€ (ê°’ ì €ì¥ ì—†ì´ ì¶œë ¥ë§Œ)")
print(f"âœ… ì •í™•ë„ (Accuracy): {accuracy:.2f}")
print(f"âœ… ì •ë°€ë„ (Precision): {precision:.2f}")
print(f"âœ… ì¬í˜„ìœ¨ (Recall): {recall:.2f}")
print(f"âœ… F1-score: {f1:.2f}")
print("ğŸ” ëª¨ë¸ ì›ë³¸ ì˜ˆì¸¡ê°’ í™•ì¸:")
print(prediction.flatten())
print(prediction)
print("-" * 50)

# âœ… ê°œë³„ ì˜ˆì¸¡ ê²°ê³¼ ì¶œë ¥ (ê°’ ì €ì¥ ì—†ì´ ì¶œë ¥ë§Œ)
for i, (original_text, summary) in enumerate(zip(news_texts, summarized_news_texts)):
    print(f"ğŸ”¹ ì›ë³¸ ë‰´ìŠ¤ {i+1}: {original_text[:100]}...\n")  # ë„ˆë¬´ ê¸¸ë©´ ì•ë¶€ë¶„ë§Œ ì¶œë ¥
    print(f"ğŸ”¸ ìš”ì•½ëœ ë‰´ìŠ¤: {summary[:100]}...\n")
    # ì˜ˆì¸¡ í™•ë¥ ê°’ì„ í•¨ê»˜ ì¶œë ¥
for i, prob in enumerate(prediction.flatten()):
    print(f"âš– íŒë³„ ê²°ê³¼: {'âš  ê°€ì§œ ë‰´ìŠ¤' if is_fake[i] else 'âœ” ì§„ì§œ ë‰´ìŠ¤'} (í™•ë¥ : {prob:.2%})")
    print("-" * 50)
# âœ… 9ï¸âƒ£ ê²°ê³¼ ì¶œë ¥
for i, (original_text, summary) in enumerate(zip(news_texts, summarized_news_texts)):
    print(f"ğŸ”¹ ì›ë³¸ ë‰´ìŠ¤: {original_text}\n")
    print(f"ğŸ”¸ ìš”ì•½ëœ ë‰´ìŠ¤: {summary}\n")
    print(f"âš– íŒë³„ ê²°ê³¼: {'âš  ê°€ì§œ ë‰´ìŠ¤' if is_fake[i] else 'âœ” ì§„ì§œ ë‰´ìŠ¤'}")
    print("-" * 50)
# ì„±ëŠ¥ ì§€í‘œ ì‹œê°í™”
labels = ["Accuracy", "Precision", "Recall", "F1-score"]
scores = [accuracy, precision, recall, f1]

plt.bar(labels, scores)
plt.ylim(0, 1)
plt.title("Fake News Detection Model Performance")
plt.ylabel("Score")
plt.show()